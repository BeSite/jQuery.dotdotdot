;(function(root, factory) {
  if (typeof define === 'function' && define.amd) {
    define(['jQuery'], factory);
  } else if (typeof exports === 'object') {
    module.exports = factory(require('jQuery'));
  } else {
    root.jquery_dotdotdot_min_js = factory(root.jQuery);
  }
}(this, function(jQuery) {
/*
 *	jQuery dotdotdot 1.8.3
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	Plugin website:
 *	dotdotdot.frebsite.nl
 *
 *	Licensed under the MIT license.
 *	http://en.wikipedia.org/wiki/MIT_License
 */
!function(t,e){function n(t,e,n){var o=t.children(),i=!1;t.empty();for(var r=0,d=o.length;r<d;r++){var s=o.eq(r);if(t.append(s),n&&t.append(n),a(t,e)){s.remove(),i=!0;break}n&&n.detach()}return i}function o(e,n,r,d,s){var l=!1,c="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return e.contents().detach().each(function(){var h=this,f=t(h);if("undefined"==typeof h)return!0;if(f.is(u))e.append(f);else{if(l)return!0;e.append(f),!s||f.is(d.after)||f.find(d.after).length||e[e.is(c)?"after":"append"](s),a(r,d)&&(l=3==h.nodeType?i(f,n,r,d,s):o(f,n,r,d,s)),l||s&&s.detach()}}),n.addClass("is-truncated"),l}function i(e,n,o,i,d){var c=e[0];if(!c)return!1;var h=l(c),f=h.indexOf(" ")!==-1?" ":"　",p="letter"==i.wrap?"":f,g=h.split(p),v=-1,w=-1,b=0,m=g.length-1;for(i.fallbackToLetter&&0==b&&0==m&&(p="",g=h.split(p),m=g.length-1);b<=m&&(0!=b||0!=m);){var y=Math.floor((b+m)/2);if(y==w)break;w=y,s(c,g.slice(0,w+1).join(p)+i.ellipsis),o.children().each(function(){t(this).toggle().toggle()}),a(o,i)?(m=w,i.fallbackToLetter&&0==b&&0==m&&(p="",g=g[0].split(p),v=-1,w=-1,b=0,m=g.length-1)):(v=w,b=w)}if(v==-1||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var C=d&&d.closest(x).length?d.length:0;if(x.contents().length>C?c=u(x.contents().eq(-1-C),n):(c=u(x,n,!0),C||x.detach()),c&&(h=r(l(c),i),s(c,h),C&&d)){var T=d.parent();t(c).parent().append(d),t.trim(T.html())||T.remove()}}else h=r(g.slice(0,v+1).join(p),i),s(c,h);return!0}function a(t,e){return t.innerHeight()>e.maxHeight}function r(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function s(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function l(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,o){var i,a=e&&e[0];if(a){if(!o){if(3===a.nodeType)return a;if(t.trim(e.text()))return u(e.contents().last(),n)}for(i=c(a);!i;){if(e=e.parent(),e.is(n)||!e.length)return!1;i=c(e[0])}if(i)return u(t(i),n)}return!1}function h(e,n){return!!e&&("string"==typeof e?(e=t(e,n),!!e.length&&e):!!e.jquery&&e)}function f(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],o=0,i=n.length;o<i;o++){var a=parseInt(t.css(n[o]),10);isNaN(a)&&(a=0),e-=a}return e}if(!t.fn.dotdotdot){var p=function(e){var i=this,r=i.contents();i.data("dotdotdot")&&i.trigger("destroy.dot"),i.data("dotdotdot-style",i.attr("style")||""),i.css("word-wrap","break-word"),"nowrap"===i.css("white-space")&&i.css("white-space","normal"),i.bind_events=function(){return i.bind("update.dot",function(e,d){switch(i.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof s.height){case"number":s.maxHeight=s.height;break;case"function":s.maxHeight=s.height.call(i[0]);break;default:s.maxHeight=f(i)}s.maxHeight+=s.tolerance,"undefined"!=typeof d&&(("string"==typeof d||"nodeType"in d&&1===d.nodeType)&&(d=t("<div />").append(d).contents()),d instanceof t&&(r=d)),p=i.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(r.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return l.afterElement&&(c=l.afterElement.clone(!0),c.show(),l.afterElement.detach()),a(p,s)&&(u="children"==s.wrap?n(p,s,c):o(p,i,p,s,c)),p.replaceWith(p.contents()),p=null,t.isFunction(s.callback)&&s.callback.call(i[0],u,r),l.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(i[0],l.isTruncated),l.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(i[0],r),r}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),i.unwatch().unbind_events().contents().detach().end().append(r).attr("style",i.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),i},i.unbind_events=function(){return i.unbind(".dot"),i},i.watch=function(){if(i.unwatch(),"window"==s.watch){var e=t(window),n=e.width(),o=e.height();e.bind("resize.dot"+l.dotId,function(){n==e.width()&&o==e.height()&&s.windowResizeFix||(n=e.width(),o=e.height(),u&&clearInterval(u),u=setTimeout(function(){i.trigger("update.dot")},100))})}else c=d(i),u=setInterval(function(){if(i.is(":visible")){var t=d(i);c.width==t.width&&c.height==t.height||(i.trigger("update.dot"),c=t)}},500);return i},i.unwatch=function(){return t(window).unbind("resize.dot"+l.dotId),u&&clearInterval(u),i};var s=t.extend(!0,{},t.fn.dotdotdot.defaults,e),l={},c={},u=null,p=null;return s.lastCharacter.remove instanceof Array||(s.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),s.lastCharacter.noEllipsis instanceof Array||(s.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),l.afterElement=h(s.after,i),l.isTruncated=!1,l.dotId=g++,i.data("dotdotdot",!0).bind_events().trigger("update.dot"),s.watch&&i.watch(),i};t.fn.dotdotdot=function(e){return 0==this.length?(t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this):this.length>1?this.each(function(){p(e)}):this instanceof t?void p(e):this},t.fn.dotdotdot.activateOnInit=!0,t.fn.dotdotdot.cssActive=!0,t.fn.dotdotdot.dataAttributeActive=!0,t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.maker=function(e){t.fn.dotdotdot.cssActive&&t(this||"body").find(".dot-ellipsis").each(function(){var e=t(this).hasClass("dot-resize-update"),n=t(this).hasClass("dot-timer-update"),o=0,i=t(this).attr("class").split(/\s+/);t.each(i,function(t,e){var n=e.match(/^dot-height-(\d+)$/);null!==n&&(o=Number(n[1]))});var a=new Object;n&&(a.watch=!0),e&&(a.watch="window"),o>0&&(a.height=o),t(this).dotdotdot(a)}),t.fn.dotdotdot.dataAttributeActive&&t(this||"body").find("[data-dot-ellipsis]").each(function(){t(this).dotdotdot(t.extend({},t(this).data("dot-ellipsis"),e))})},t.fn.dotdotdot.debug=function(t){};var g=1,v=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):v.apply(this,arguments)};var w=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):w.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(t){t.fn.dotdotdot.activateOnInit&&t.fn.dotdotdot.maker()}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});
return true;
}));
